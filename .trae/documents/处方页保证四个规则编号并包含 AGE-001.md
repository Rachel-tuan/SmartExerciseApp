## 原因

* 你看到的三枚编号来自“处方页”的智能生成结果，展示位置：`src/pages/PrescriptionPage.jsx:250-254`，它直接显示 `generatePrescription(...)` 返回的 `rules`，未做自动补齐。

## 目标

* 在“处方页”也保证规则编号为 4 个，且必须包含 `AGE-001`，与首页逻辑一致，并持久化。

## 修改点

1. 引擎助手方法（集中复用）

* 在引擎增加只读助手：`ensureFourRules(ids, profile, measurements)`

  * 合并 `AGE-001`，去重

  * 从当前档案/测量的适用规则中补足；不足按优先级用通用列表补足

  * 返回排序后 4 个编号

* 对外导出该方法

1. 处方页处理

* 在 `handleGenerateExercisePrescription` 生成 `pr` 后，使用 `ensureFourRules(...)` 规范化 `pr.rules` 再 `setExercisePrescription(pr)`

* 同时调用 `upsertPrescription(pr)`，保证本地存储与其他页面一致

* 展示仍使用现有 `Tag` 渲染（`src/pages/PrescriptionPage.jsx:250-254`）

1. 首页复用助手（可选）

* 将首页处方规则的自动处理改为调用 `ensureFourRules(...)`，避免重复逻辑

## 验证

* 处方页与首页均显示 4 个规则编号，包含 `AGE-001`

* 点击每个编号按钮/标签能弹出名称、来源与推荐 FITT

* 本地存储更新后管理页也显示一致

